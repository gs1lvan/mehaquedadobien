<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Gesti√≥n de Categor√≠as Personalizadas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-section h2 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .test-case {
            margin: 15px 0;
            padding: 15px;
            background: #f9f9f9;
            border-left: 4px solid #667eea;
        }
        .test-case h3 {
            margin-top: 0;
            color: #667eea;
            font-size: 16px;
        }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
        }
        button:hover {
            background: #5568d3;
        }
        .result {
            margin-top: 10px;
            padding: 10px;
            background: #e8f5e9;
            border-radius: 4px;
            font-family: monospace;
            white-space: pre-wrap;
        }
        .result.error {
            background: #ffebee;
            color: #c62828;
        }
        .result.success {
            background: #e8f5e9;
            color: #2e7d32;
        }
        .info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        .category-preview {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: white;
            border-radius: 6px;
            margin: 5px;
            border: 1px solid #ddd;
        }
        .category-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <h1>üß™ Test - Gesti√≥n de Categor√≠as Personalizadas</h1>
    
    <div class="info">
        <strong>üìã Instrucciones:</strong>
        <p>Este archivo prueba la funcionalidad de gesti√≥n de categor√≠as personalizadas. Abre la aplicaci√≥n principal (index.html) y:</p>
        <ol>
            <li>Haz clic en el bot√≥n "üè∑Ô∏è Categor√≠as" en el header</li>
            <li>Prueba crear nuevas categor√≠as con diferentes nombres, emojis y colores</li>
            <li>Verifica que aparecen en los filtros y en el selector del formulario</li>
            <li>Crea recetas con categor√≠as personalizadas</li>
            <li>Intenta eliminar categor√≠as (con y sin recetas)</li>
            <li>Recarga la p√°gina y verifica que las categor√≠as persisten</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>‚úÖ Funcionalidades Implementadas</h2>
        
        <div class="test-case">
            <h3>1. CategoryManager Class</h3>
            <p>‚úì Clase completa con m√©todos de gesti√≥n</p>
            <p>‚úì Persistencia en localStorage</p>
            <p>‚úì 10 categor√≠as predefinidas</p>
            <p>‚úì Paleta de 12 colores</p>
        </div>

        <div class="test-case">
            <h3>2. Modal de Gesti√≥n</h3>
            <p>‚úì Bot√≥n "üè∑Ô∏è Categor√≠as" en el header</p>
            <p>‚úì Modal con formulario de creaci√≥n</p>
            <p>‚úì Selector de emoji y paleta de colores</p>
            <p>‚úì Listas de categor√≠as predefinidas y personalizadas</p>
            <p>‚úì Contador de recetas por categor√≠a</p>
        </div>

        <div class="test-case">
            <h3>3. Crear Categor√≠as</h3>
            <p>‚úì Validaci√≥n de nombre (2-30 caracteres)</p>
            <p>‚úì Verificaci√≥n de duplicados</p>
            <p>‚úì Generaci√≥n autom√°tica de ID (slug)</p>
            <p>‚úì Emoji y color personalizables</p>
            <p>‚úì Actualizaci√≥n autom√°tica de UI</p>
        </div>

        <div class="test-case">
            <h3>4. Eliminar Categor√≠as</h3>
            <p>‚úì Solo categor√≠as personalizadas</p>
            <p>‚úì Advertencia si hay recetas afectadas</p>
            <p>‚úì Actualizaci√≥n de recetas a "Sin categor√≠a"</p>
            <p>‚úì Confirmaci√≥n antes de eliminar</p>
        </div>

        <div class="test-case">
            <h3>5. Renderizado Din√°mico</h3>
            <p>‚úì Chips de filtro generados din√°micamente</p>
            <p>‚úì Selector de categor√≠as en formulario</p>
            <p>‚úì Colores personalizados aplicados</p>
        </div>
    </div>

    <div class="test-section">
        <h2>üé® Categor√≠as Predefinidas</h2>
        <div id="predefined-categories"></div>
    </div>

    <div class="test-section">
        <h2>üé® Paleta de Colores Disponibles</h2>
        <div id="color-palette-preview"></div>
    </div>

    <div class="test-section">
        <h2>üìù Casos de Prueba</h2>
        
        <div class="test-case">
            <h3>Caso 1: Crear categor√≠a v√°lida</h3>
            <p>1. Abre el modal de categor√≠as</p>
            <p>2. Introduce nombre: "Postres"</p>
            <p>3. Selecciona emoji: üç∞</p>
            <p>4. Selecciona un color</p>
            <p>5. Haz clic en "Crear Categor√≠a"</p>
            <p><strong>Resultado esperado:</strong> Categor√≠a creada, aparece en filtros y selector</p>
        </div>

        <div class="test-case">
            <h3>Caso 2: Validaci√≥n de nombre corto</h3>
            <p>1. Intenta crear categor√≠a con nombre "A"</p>
            <p><strong>Resultado esperado:</strong> Error "El nombre debe tener al menos 2 caracteres"</p>
        </div>

        <div class="test-case">
            <h3>Caso 3: Validaci√≥n de duplicados</h3>
            <p>1. Crea categor√≠a "Bebidas"</p>
            <p>2. Intenta crear otra categor√≠a "Bebidas"</p>
            <p><strong>Resultado esperado:</strong> Error "Ya existe una categor√≠a con ese nombre"</p>
        </div>

        <div class="test-case">
            <h3>Caso 4: Eliminar categor√≠a sin recetas</h3>
            <p>1. Crea categor√≠a "Test"</p>
            <p>2. Haz clic en el bot√≥n de eliminar üóëÔ∏è</p>
            <p>3. Confirma la eliminaci√≥n</p>
            <p><strong>Resultado esperado:</strong> Categor√≠a eliminada, desaparece de filtros</p>
        </div>

        <div class="test-case">
            <h3>Caso 5: Eliminar categor√≠a con recetas</h3>
            <p>1. Crea categor√≠a "Sopas"</p>
            <p>2. Crea una receta con categor√≠a "Sopas"</p>
            <p>3. Intenta eliminar la categor√≠a</p>
            <p><strong>Resultado esperado:</strong> Advertencia mostrando n√∫mero de recetas afectadas</p>
            <p>4. Confirma la eliminaci√≥n</p>
            <p><strong>Resultado esperado:</strong> Categor√≠a eliminada, receta pasa a "Sin categor√≠a"</p>
        </div>

        <div class="test-case">
            <h3>Caso 6: Protecci√≥n de categor√≠as predefinidas</h3>
            <p>1. Observa que las categor√≠as predefinidas no tienen botones de editar/eliminar</p>
            <p><strong>Resultado esperado:</strong> Solo categor√≠as personalizadas tienen acciones</p>
        </div>

        <div class="test-case">
            <h3>Caso 7: Persistencia en localStorage</h3>
            <p>1. Crea varias categor√≠as personalizadas</p>
            <p>2. Recarga la p√°gina (F5)</p>
            <p><strong>Resultado esperado:</strong> Todas las categor√≠as personalizadas siguen ah√≠</p>
        </div>

        <div class="test-case">
            <h3>Caso 8: Filtrado por categor√≠a personalizada</h3>
            <p>1. Crea categor√≠a "Ensaladas"</p>
            <p>2. Crea 2-3 recetas con esa categor√≠a</p>
            <p>3. Haz clic en el chip de filtro "Ensaladas"</p>
            <p><strong>Resultado esperado:</strong> Solo se muestran las recetas de esa categor√≠a</p>
        </div>
    </div>

    <div class="test-section">
        <h2>üêõ Problemas Conocidos</h2>
        <div class="test-case">
            <h3>Funcionalidad de Edici√≥n</h3>
            <p>‚ö†Ô∏è La funci√≥n de editar categor√≠as muestra un mensaje "Funci√≥n de edici√≥n en desarrollo"</p>
            <p>Esto es intencional - la edici√≥n se puede implementar en una futura iteraci√≥n</p>
        </div>
    </div>

    <div class="test-section">
        <h2>‚ú® Pr√≥ximas Mejoras</h2>
        <ul>
            <li>Implementar edici√≥n completa de categor√≠as personalizadas</li>
            <li>Actualizar visualizaci√≥n de categor√≠as en tarjetas de recetas</li>
            <li>Actualizar exportaci√≥n/importaci√≥n XML con categor√≠as personalizadas</li>
            <li>Agregar m√°s emojis predefinidos para seleccionar</li>
            <li>Permitir reordenar categor√≠as (drag & drop)</li>
        </ul>
    </div>

    <script>
        // Display predefined categories
        const predefinedCategories = [
            { id: 'carne', name: 'Carne', emoji: 'ü•©', color: '#D93B30' },
            { id: 'verdura', name: 'Verdura', emoji: 'ü•¨', color: '#008A05' },
            { id: 'pescado', name: 'Pescado', emoji: 'üêü', color: '#0073CF' },
            { id: 'fruta', name: 'Fruta', emoji: 'üçé', color: '#FF8C00' },
            { id: 'cereales', name: 'Cereales', emoji: 'üåæ', color: '#C4A053' },
            { id: 'mix', name: 'Mix', emoji: 'üç≤', color: '#8B5CF6' },
            { id: 'con-huevo', name: 'Con huevo', emoji: 'ü•ö', color: '#FFD700' },
            { id: 'pollo', name: 'Pollo', emoji: 'üêî', color: '#FFA500' },
            { id: 'escabeche', name: 'Escabeche', emoji: 'ü•í', color: '#32CD32' },
            { id: 'hospital', name: 'Hospital', emoji: 'üè•', color: '#FF6B6B' }
        ];

        const container = document.getElementById('predefined-categories');
        predefinedCategories.forEach(cat => {
            const div = document.createElement('div');
            div.className = 'category-preview';
            div.innerHTML = `
                <span style="font-size: 1.5rem;">${cat.emoji}</span>
                <span><strong>${cat.name}</strong></span>
                <span class="category-color" style="background: ${cat.color};"></span>
                <span style="color: #666; font-size: 0.875rem;">${cat.id}</span>
            `;
            container.appendChild(div);
        });

        // Display color palette
        const colors = [
            '#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8',
            '#F7DC6F', '#BB8FCE', '#85C1E2', '#F8B739', '#52B788',
            '#E76F51', '#2A9D8F'
        ];

        const colorContainer = document.getElementById('color-palette-preview');
        colors.forEach(color => {
            const div = document.createElement('div');
            div.className = 'category-preview';
            div.innerHTML = `
                <span class="category-color" style="background: ${color}; width: 40px; height: 40px;"></span>
                <span style="font-family: monospace; font-size: 0.875rem;">${color}</span>
            `;
            colorContainer.appendChild(div);
        });
    </script>
</body>
</html>
